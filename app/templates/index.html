{% extends "base.html" %}

{% block title %}YouTube Converter{% endblock %}

{% block content %}
<script>
function toggleQualityOptions() {
    const extSelect = document.getElementById('ext');
    const qualitySelect = document.getElementById('quality');
    const mp3Options = document.querySelectorAll('.mp3-option');
    const mp4Options = document.querySelectorAll('.mp4-option');
    
    if (extSelect.value === 'mp3') {
        // MP3 ì˜µì…˜ í‘œì‹œ, MP4 ì˜µì…˜ ìˆ¨ê¹€
        mp3Options.forEach(option => {
            option.style.display = 'block';
            option.disabled = false;
        });
        mp4Options.forEach(option => {
            option.style.display = 'none';
            option.disabled = true;
        });
        // ì²« ë²ˆì§¸ MP3 ì˜µì…˜ ì„ íƒ
        qualitySelect.value = '320';
    } else {
        // MP4 ì˜µì…˜ í‘œì‹œ, MP3 ì˜µì…˜ ìˆ¨ê¹€
        mp3Options.forEach(option => {
            option.style.display = 'none';
            option.disabled = true;
        });
        mp4Options.forEach(option => {
            option.style.display = 'block';
            option.disabled = false;
        });
        // ì²« ë²ˆì§¸ MP4 ì˜µì…˜ ì„ íƒ
        qualitySelect.value = '1080';
    }
}

// í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸° ì„¤ì •
document.addEventListener('DOMContentLoaded', function() {
    toggleQualityOptions();
});
</script>
<div class="text-center">
    <div class="mx-auto h-20 w-20 bg-gradient-to-r from-pink-500 to-violet-500 rounded-full flex items-center justify-center mb-6">
        <svg class="h-10 w-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
        </svg>
    </div>
    <h2 class="text-4xl font-bold text-white mb-2">YouTube Converter</h2>
    <p class="text-blue-200 text-lg">YouTube ì˜ìƒì„ MP3/MP4ë¡œ ê°„í¸í•˜ê²Œ ë³€í™˜í•˜ì„¸ìš”</p>
</div>

<div class="bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20">
    <form action="/convert" method="post" class="space-y-6">
        <div>
            <label for="ext" class="block text-sm font-medium text-white mb-2">íŒŒì¼ í˜•ì‹</label>
            <select name="ext" id="ext" onchange="toggleQualityOptions()" class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200">
                <option value="mp3" class="bg-gray-800 text-white">ğŸµ MP3 (ì˜¤ë””ì˜¤)</option>
                <option value="mp4" class="bg-gray-800 text-white">ğŸ¬ MP4 (ë¹„ë””ì˜¤)</option>
            </select>
        </div>
        
        <div>
            <label for="quality" class="block text-sm font-medium text-white mb-2">í’ˆì§ˆ ì„ íƒ</label>
            <select name="quality" id="quality" class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200">
                <!-- MP3 ì˜µì…˜ (ê¸°ë³¸ê°’) -->
                <option value="320" class="bg-gray-800 text-white mp3-option">ğŸµ 320kbps (ìµœê³  í’ˆì§ˆ)</option>
                <option value="256" class="bg-gray-800 text-white mp3-option">ğŸµ 256kbps (ê³ í’ˆì§ˆ)</option>
                <option value="192" class="bg-gray-800 text-white mp3-option">ğŸµ 192kbps (ì¼ë°˜ í’ˆì§ˆ)</option>
                <option value="128" class="bg-gray-800 text-white mp3-option">ğŸµ 128kbps (ë‚®ì€ í’ˆì§ˆ)</option>
                
                <!-- MP4 ì˜µì…˜ -->
                <option value="1080" class="bg-gray-800 text-white mp4-option" style="display: none">ğŸ¬ 1080p (Full HD)</option>
                <option value="720" class="bg-gray-800 text-white mp4-option" style="display: none">ğŸ¬ 720p (HD)</option>
                <option value="480" class="bg-gray-800 text-white mp4-option" style="display: none">ğŸ¬ 480p (SD)</option>
                <option value="360" class="bg-gray-800 text-white mp4-option" style="display: none">ğŸ¬ 360p (ë‚®ì€ í’ˆì§ˆ)</option>
            </select>
        </div>
        
        <div>
            <label for="url" class="block text-sm font-medium text-white mb-2">YouTube URL</label>
            <input type="text" name="url" id="url" placeholder="https://www.youtube.com/watch?v=..." 
                   class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"
                   required />
        </div>
        
        <button type="submit" 
                class="w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-transparent shadow-lg">
            <span class="flex items-center justify-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"></path>
                </svg>
                ë³€í™˜ ì‹œì‘
            </span>
        </button>
    </form>
</div>

<div class="flex justify-center space-x-4">
    <a href="/jobs" 
       class="inline-flex items-center text-blue-200 hover:text-white text-sm transition-colors">
        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
        </svg>
        ì‘ì—… ëª©ë¡ ë³´ê¸°
    </a>
</div>

<div class="text-center mt-4">
    <p class="text-blue-200 text-sm">
        ë¹ ë¥´ê³  ì•ˆì „í•œ YouTube ë¹„ë””ì˜¤ ë³€í™˜ ì„œë¹„ìŠ¤
    </p>
</div>
{% endblock %}